{% extends "base.html" %}
{% block content %}

<div class="text-center mb-5">
  <h1 class="fw-bold text-primary">Welcome to ShopEase</h1>
  <p class="text-muted">Your one-stop shop for all needs</p>
</div>

<form class="d-flex justify-content-center mb-4" method="get" action="/">
  <input class="form-control w-50 me-2" type="text" name="search" placeholder="Search for products..." value="{{ search_query }}">
  <select class="form-select w-auto me-2" name="category">
    <option value="">All Categories</option>
    {% for cat in categories %}
    <option value="{{ cat }}" {% if cat == selected_category %}selected{% endif %}>{{ cat }}</option>
    {% endfor %}
  </select>
  <button class="btn btn-primary">Search</button>
</form>

<div class="row g-4">
  {% for product in products %}
  <div class="col-md-3 col-sm-6">
    <div class="card shadow-sm h-100">
      <img src="{{ url_for('static', filename=product['image']) }}" class="card-img-top" alt="{{ product['name'] }}">
      <div class="card-body text-center">
        <h6 class="fw-bold">{{ product['name'] }}</h6>
        <p class="text-muted">{{ product['category'] }}</p>
        <p class="fw-bold">â‚¹{{ product['price'] }}</p>
        <a href="/product/{{ product['id'] }}" class="btn btn-outline-primary btn-sm">View</a>
        <a href="/add_to_cart/{{ product['id'] }}" class="btn btn-primary btn-sm">Add to Cart</a>
      </div>
    </div>
  </div>
  {% endfor %}
</div>

{% endblock %}
